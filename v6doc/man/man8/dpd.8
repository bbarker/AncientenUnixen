.th DPD VIII 3/15/72
.sh NAME
dpd \*- data phone daemon
.sh SYNOPSIS
.bd /etc/dpd
.sh DESCRIPTION
.it Dpd
is the 201 data phone daemon.
It is designed to submit jobs to
the Honeywell 6070 computer via the GRTS
interface.
.s3
.it Dpd
uses the directory
.it /usr/dpd.
The file
.it lock
in that directory
is used
to prevent two daemons from becoming active.
After the daemon has successfully set the lock,
it forks and the main path exits, thus
spawning the daemon.
The directory is scanned for files
beginning with
.bd df.
Each such file is submitted as a job.
Each line of a job file must begin with a key
character to specify what to do with the remainder
of the line.
.s3
.lp +5 3
\fBS\fR	directs
.it dpd
to generate a unique snumb card.
This card is generated by incrementing the first
word of the
file
.it /usr/dpd/snumb
and converting that to three-digit octal concatenated with
the station ID.
.s3
.lp +5 3
\fBL\fR	specifies that the remainder of the line is to
be sent as a literal.
.s3
.lp +5 3
\fBB\fR	specifies that the rest of the line
is a file name.
That file is to
be sent as binary cards.
.s3
.lp +5 3
\fBF\fR	is the same as \fBB\fR except a form feed is prepended to the file.
.s3
.lp +5 3
\fBU\fR	specifies that the rest of the line
is a file name.
After the job has been transmitted,
the file is unlinked.
.s3
.lp +5 3
\fBM\fR	is followed by a user ID; after the job is sent,
the snumb number and the first line of information in the
file is mailed to the user
to verify the sending of the job.
.s3
.i0
Any error encountered will cause the daemon to
drop the call, wait up to 20 minutes and start over.
This means that an improperly constructed
\fIdf\fR file may cause the same job to be submitted
every 20 minutes.
.s3
While waiting, the
daemon checks to
see that the
.it lock
file still exists.
If it is gone,
the
daemon will exit.
.sh FILES
/dev/dn0,
/dev/dp0,
/usr/dpd/*
.sh "SEE ALSO"
opr (I)
