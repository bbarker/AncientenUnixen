.th UPDATE VIII 11/1/73
.sh NAME
update \*- periodically update the super block
.sh SYNOPSIS
.bd update
.sh DESCRIPTION
.it Update
is a program that executes
the
.it sync
primitive every 30 seconds.
This insures that the file system
is fairly up to date in case of a crash.
This command should not be executed directly,
but should be executed out of the
initialization shell command file.
See sync (II) for details.
.sh "SEE ALSO"
sync (II), init (VIII)
.sh BUGS
With
.it update
running,
if the CPU is
halted just as
the
.it sync
is executed,
a file system can be damaged.
This is partially due to DEC hardware that
writes zeros when NPR requests fail.
A fix would be to have
.it "sync"
temporarily increment the system time by at
least 30 seconds to trigger the execution of
.it update.
This would give 30 seconds grace to halt the CPU.
